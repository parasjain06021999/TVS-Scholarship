(()=>{var e={};e.id=372,e.ids=[372],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},19254:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>d,routeModule:()=>h,tree:()=>c});var r=s(50482),a=s(69108),i=s(62563),n=s.n(i),o=s(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["admin",{children:["scholarships",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,94702)),"C:\\Users\\paras\\source\\repos\\tvs-scholarship\\tvs-scholarship\\frontend\\src\\app\\admin\\scholarships\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,43625)),"C:\\Users\\paras\\source\\repos\\tvs-scholarship\\tvs-scholarship\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\paras\\source\\repos\\tvs-scholarship\\tvs-scholarship\\frontend\\src\\app\\admin\\scholarships\\page.tsx"],p="/admin/scholarships/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/scholarships/page",pathname:"/admin/scholarships",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},31131:(e,t,s)=>{Promise.resolve().then(s.bind(s,92801))},92801:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(95344),a=s(3729),i=s(22254),n=s(20783),o=s.n(n);function l(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[l,c]=(0,a.useState)(""),d=(0,i.useRouter)();(0,a.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");if(!e||!t){d.push("/admin/login");return}let s=JSON.parse(t);if("ADMIN"!==s.role&&"REVIEWER"!==s.role&&"SUPER_ADMIN"!==s.role){d.push("/login");return}p()},[d]);let p=async()=>{try{n(!0);let e=await fetch("https://tvs-scholarship.onrender.com/scholarships",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw Error("Failed to load scholarships");let s=await e.json(),r=s.success?s.data:s,a=(Array.isArray(r)?r:r?.scholarships||r?.data||[]).map(e=>({id:e.id,title:e.title,category:e.category,amount:Number(e.amount)||0,isActive:!!e.isActive,applicationEndDate:e.applicationEndDate}));t(a)}catch(e){c(e.message||"Failed to load")}finally{n(!1)}},x=async e=>{try{let t=await fetch(`https://tvs-scholarship.onrender.com/scholarships/${e}/toggle-status`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!t.ok){let e=await t.json();throw Error(e.message||"Failed to update")}await t.json(),await p()}catch(e){alert(e.message||"Failed to update status")}};return s?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),r.jsx("p",{className:"text-lg text-gray-600 mt-4",children:"Loading scholarships..."})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Manage Scholarships"}),(0,r.jsxs)(o(),{href:"/admin/scholarships/new",className:"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white px-6 py-3 rounded-lg hover:from-indigo-700 hover:to-indigo-800 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl flex items-center space-x-2",children:[r.jsx("span",{children:"➕"}),r.jsx("span",{children:"Create New"})]})]}),l&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6",children:l}),(0,r.jsxs)("div",{className:"bg-white shadow-lg rounded-xl overflow-hidden border border-gray-100",children:[(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Title"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Category"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"End Date"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map((e,t)=>(0,r.jsxs)("tr",{className:`hover:bg-gray-50 transition-colors duration-200 ${t%2==0?"bg-white":"bg-gray-50"}`,children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.title})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:e.category?e.category.replace("_"," "):"Not specified"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"text-sm font-semibold text-gray-900",children:["₹",e.amount?e.amount.toLocaleString():"Not specified"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.applicationEndDate?new Date(e.applicationEndDate).toLocaleDateString():"Not specified"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.isActive?"✅ Active":"❌ Inactive"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:()=>x(e.id),className:`px-3 py-1 rounded-md text-xs font-medium transition-colors ${e.isActive?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:e.isActive?"Disable":"Enable"}),r.jsx(o(),{href:`/admin/scholarships/${e.id}`,className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors text-xs font-medium",children:"View"})]})})]},e.id))})]}),0===e.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"\uD83D\uDCDA"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No scholarships found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by creating your first scholarship."}),r.jsx(o(),{href:"/admin/scholarships/new",className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:"Create Scholarship"})]})]})]})})})}},94702:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let r=(0,s(86843).createProxy)(String.raw`C:\Users\paras\source\repos\tvs-scholarship\tvs-scholarship\frontend\src\app\admin\scholarships\page.tsx`),{__esModule:a,$$typeof:i}=r,n=r.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,793,783,929],()=>s(19254));module.exports=r})();