(()=>{var e={};e.id=427,e.ids=[427],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},78222:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>c});var a=t(50482),r=t(69108),i=t(62563),l=t.n(i),n=t(68300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c=["",{children:["admin",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,94381)),"C:\\Users\\paras\\source\\repos\\tvs-scholarship\\tvs-scholarship\\frontend\\src\\app\\admin\\dashboard\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,43625)),"C:\\Users\\paras\\source\\repos\\tvs-scholarship\\tvs-scholarship\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\paras\\source\\repos\\tvs-scholarship\\tvs-scholarship\\frontend\\src\\app\\admin\\dashboard\\page.tsx"],x="/admin/dashboard/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/dashboard/page",pathname:"/admin/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},72872:(e,s,t)=>{Promise.resolve().then(t.bind(t,60154))},60154:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var a=t(95344),r=t(3729),i=t(22254),l=t(12825),n=t(20783),d=t.n(n);function c(){let[e,s]=(0,r.useState)(null),[t,n]=(0,r.useState)({totalApplications:0,pendingApplications:0,approvedApplications:0,rejectedApplications:0,totalStudents:0,totalScholarships:0,totalAmountDisbursed:0}),[c,o]=(0,r.useState)([]),[x,m]=(0,r.useState)(!0),p=(0,i.useRouter)();(0,r.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("user");if(!e||!t){p.push("/admin/login");return}let a=JSON.parse(t);if("ADMIN"!==a.role&&"REVIEWER"!==a.role&&"SUPER_ADMIN"!==a.role){p.push("/login");return}s(a),h()},[p]);let h=async()=>{try{m(!0);let e=await fetch("http://localhost:3001/applications/stats/overview",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){let s=await e.json();n({totalApplications:s.total||0,pendingApplications:s.pending||0,approvedApplications:s.approved||0,rejectedApplications:s.rejected||0,totalStudents:s.totalStudents||0,totalScholarships:s.totalScholarships||0,totalAmountDisbursed:s.totalAmountDisbursed||0})}let s=await fetch("http://localhost:3001/applications?page=1&limit=5",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(s.ok){let e=await s.json(),t=[];e.data&&e.data.applications?t=e.data.applications:e.applications?t=e.applications:Array.isArray(e)?t=e:e.data&&Array.isArray(e.data)&&(t=e.data);let a=t.map(e=>({id:e.id,studentName:e.student?.firstName?`${e.student.firstName} ${e.student.lastName||""}`.trim():"Student",scholarshipName:e.scholarship?.title||"Scholarship",status:e.status||"PENDING",appliedDate:e.submittedAt||e.createdAt,amount:e.scholarship?.amount||e.awardedAmount||0}));o(a)}}catch(e){}finally{m(!1)}},u=e=>{switch(e){case"APPROVED":return"bg-green-100 text-green-800";case"REJECTED":return"bg-red-100 text-red-800";case"UNDER_REVIEW":return"bg-yellow-100 text-yellow-800";case"PENDING":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return x?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),a.jsx("p",{className:"text-lg text-gray-600 mt-4",children:"Loading admin dashboard..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-8 w-8 bg-red-600 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"A"})}),a.jsx("h1",{className:"ml-3 text-2xl font-bold text-gray-900",children:"TVS Admin Portal"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-700",children:["Welcome, ",e?.firstName||"Admin","! \uD83D\uDC4B"]}),a.jsx(l.z,{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),p.push("/admin/login")},className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"Logout"})]})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold",children:"\uD83D\uDCDD"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Applications"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:t.totalApplications})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-md flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold",children:"⏳"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pending Review"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:t.pendingApplications})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold",children:"✅"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Approved"}),a.jsx("dd",{className:"text-lg font-medium text-gray-900",children:t.approvedApplications})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:a.jsx("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-md flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold",children:"\uD83D\uDCB0"})})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Amount Disbursed"}),(0,a.jsxs)("dd",{className:"text-lg font-medium text-gray-900",children:["₹",t.totalAmountDisbursed.toLocaleString()]})]})})]})})})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg mb-8",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"})}),a.jsx("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(d(),{href:"/admin/applications",children:(0,a.jsxs)(l.z,{className:"w-full p-4 h-auto flex flex-col items-center space-y-2",children:[a.jsx("span",{className:"text-2xl",children:"\uD83D\uDCCB"}),a.jsx("span",{children:"Review Applications"})]})}),a.jsx(d(),{href:"/admin/scholarships",children:(0,a.jsxs)(l.z,{className:"w-full p-4 h-auto flex flex-col items-center space-y-2",children:[a.jsx("span",{className:"text-2xl",children:"\uD83C\uDF93"}),a.jsx("span",{children:"Manage Scholarships"})]})}),a.jsx(d(),{href:"/admin/analytics",children:(0,a.jsxs)(l.z,{className:"w-full p-4 h-auto flex flex-col items-center space-y-2",children:[a.jsx("span",{className:"text-2xl",children:"\uD83D\uDCCA"}),a.jsx("span",{children:"View Analytics"})]})})]})})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Applications"})}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scholarship"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applied Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.studentName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.scholarshipName}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u(e.status)}`,children:e.status})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["₹",e.amount?e.amount.toLocaleString():"0"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.appliedDate).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx(d(),{href:`/admin/applications/${e.id}`,className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]},e.id))})]})})]})]})})]})}},12825:(e,s,t)=>{"use strict";t.d(s,{z:()=>o});var a=t(95344),r=t(3729),i=t.n(r),l=t(88720),n=t(56815),d=t(79377);let c=(0,l.j)("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{variants:{variant:{default:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-primary-500",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500",warning:"bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500",error:"bg-error-600 text-white hover:bg-error-700 focus:ring-error-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500",link:"text-primary-600 underline-offset-4 hover:underline focus:ring-primary-500"},size:{sm:"h-8 px-3 text-xs",default:"h-10 px-4 py-2",lg:"h-12 px-6 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=i().forwardRef(({className:e,variant:s,size:t,asChild:r=!1,loading:i=!1,children:l,disabled:o,...x},m)=>(0,a.jsxs)("button",{className:function(...e){return(0,d.m6)((0,n.W)(e))}(c({variant:s,size:t,className:e})),ref:m,disabled:o||i,...x,children:[i&&(0,a.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l]}));o.displayName="Button"},94381:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>r,default:()=>l});let a=(0,t(86843).createProxy)(String.raw`C:\Users\paras\source\repos\tvs-scholarship\tvs-scholarship\frontend\src\app\admin\dashboard\page.tsx`),{__esModule:r,$$typeof:i}=a,l=a.default}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[638,793,783,500,929],()=>t(78222));module.exports=a})();